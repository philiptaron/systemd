{"ancestors":[],"descendants":[{"id":"115662260764497398","created_at":"2025-12-04T16:33:59.492Z","in_reply_to_id":"115662198906484836","in_reply_to_account_id":"109248059314089584","sensitive":false,"spoiler_text":"","visibility":"public","language":"en","uri":"https://mastodon.social/users/pid_eins/statuses/115662260764497398","url":"https://mastodon.social/@pid_eins/115662260764497398","replies_count":1,"reblogs_count":4,"favourites_count":6,"quotes_count":0,"edited_at":"2025-12-04T16:34:13.531Z","content":"\u003cp\u003e… that systemd-repart is really good at is setting up a partition table, streaming file system data into it, and setting up newly formatted/encrypted file systems. But that\u0026#39;s precisely what an interactive installer is doing, in particular for image based OSes, where the initial installation is literally just streaming a file system image 1:1 onto a new disk.\u003c/p\u003e\u003cp\u003esystemd-repart\u0026#39;s Varlink IPC interface is available in two modes: you can either contact it via an AF_UNIX socket in the fs, or…\u003c/p\u003e","reblog":null,"application":{"name":"Web","website":null},"account":{"id":"109248059314089584","username":"pid_eins","acct":"pid_eins","display_name":"Lennart Poettering","locked":false,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2022-10-28T00:00:00.000Z","note":"\u003cp\u003e⛵ I write software. ⛵\u003c/p\u003e","url":"https://mastodon.social/@pid_eins","uri":"https://mastodon.social/users/pid_eins","avatar":"https://files.mastodon.social/accounts/avatars/109/248/059/314/089/584/original/3209dabfe3b87caa.jpg","avatar_static":"https://files.mastodon.social/accounts/avatars/109/248/059/314/089/584/original/3209dabfe3b87caa.jpg","header":"https://files.mastodon.social/accounts/headers/109/248/059/314/089/584/original/d4b7dfdc4c30890b.jpg","header_static":"https://files.mastodon.social/accounts/headers/109/248/059/314/089/584/original/d4b7dfdc4c30890b.jpg","followers_count":8187,"following_count":343,"statuses_count":2260,"last_status_at":"2025-12-18","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"Web","value":"\u003ca href=\"http://0pointer.de/blog/\" target=\"_blank\" rel=\"nofollow noopener me\" translate=\"no\"\u003e\u003cspan class=\"invisible\"\u003ehttp://\u003c/span\u003e\u003cspan class=\"\"\u003e0pointer.de/blog/\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"denied"}},{"id":"115662270768337691","created_at":"2025-12-04T16:36:32.142Z","in_reply_to_id":"115662260764497398","in_reply_to_account_id":"109248059314089584","sensitive":false,"spoiler_text":"","visibility":"public","language":"en","uri":"https://mastodon.social/users/pid_eins/statuses/115662270768337691","url":"https://mastodon.social/@pid_eins/115662270768337691","replies_count":1,"reblogs_count":1,"favourites_count":4,"quotes_count":0,"edited_at":null,"content":"\u003cp\u003e…you can fork it off your process, and talk Varlink via an AF_UNIX socketpair(). The latter is particularly useful if a highly privileged worker process is in the mix, that drives repart plus a boot loader/kernel installer.\u003c/p\u003e\u003cp\u003eIn fact, I already have a PR posted for v260 that adds such a worker service, that drives repart + kernel-install + bootctl + systemd-creds in a unified tool that can install an image based OS.\u003c/p\u003e\u003cp\u003eThe Varlink interface can do a couple of more things, for example enumerate…\u003c/p\u003e","reblog":null,"application":{"name":"Web","website":null},"account":{"id":"109248059314089584","username":"pid_eins","acct":"pid_eins","display_name":"Lennart Poettering","locked":false,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2022-10-28T00:00:00.000Z","note":"\u003cp\u003e⛵ I write software. ⛵\u003c/p\u003e","url":"https://mastodon.social/@pid_eins","uri":"https://mastodon.social/users/pid_eins","avatar":"https://files.mastodon.social/accounts/avatars/109/248/059/314/089/584/original/3209dabfe3b87caa.jpg","avatar_static":"https://files.mastodon.social/accounts/avatars/109/248/059/314/089/584/original/3209dabfe3b87caa.jpg","header":"https://files.mastodon.social/accounts/headers/109/248/059/314/089/584/original/d4b7dfdc4c30890b.jpg","header_static":"https://files.mastodon.social/accounts/headers/109/248/059/314/089/584/original/d4b7dfdc4c30890b.jpg","followers_count":8187,"following_count":343,"statuses_count":2260,"last_status_at":"2025-12-18","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"Web","value":"\u003ca href=\"http://0pointer.de/blog/\" target=\"_blank\" rel=\"nofollow noopener me\" translate=\"no\"\u003e\u003cspan class=\"invisible\"\u003ehttp://\u003c/span\u003e\u003cspan class=\"\"\u003e0pointer.de/blog/\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"denied"}},{"id":"115662273665523002","created_at":"2025-12-04T16:37:16.347Z","in_reply_to_id":"115662270768337691","in_reply_to_account_id":"109248059314089584","sensitive":false,"spoiler_text":"","visibility":"public","language":"en","uri":"https://mastodon.social/users/pid_eins/statuses/115662273665523002","url":"https://mastodon.social/@pid_eins/115662273665523002","replies_count":0,"reblogs_count":1,"favourites_count":4,"quotes_count":0,"edited_at":null,"content":"\u003cp\u003e…suitable block devices for installations (because that\u0026#39;s actually not as trivial an op as one might think).\u003c/p\u003e","reblog":null,"application":{"name":"Web","website":null},"account":{"id":"109248059314089584","username":"pid_eins","acct":"pid_eins","display_name":"Lennart Poettering","locked":false,"bot":false,"discoverable":null,"indexable":false,"group":false,"created_at":"2022-10-28T00:00:00.000Z","note":"\u003cp\u003e⛵ I write software. ⛵\u003c/p\u003e","url":"https://mastodon.social/@pid_eins","uri":"https://mastodon.social/users/pid_eins","avatar":"https://files.mastodon.social/accounts/avatars/109/248/059/314/089/584/original/3209dabfe3b87caa.jpg","avatar_static":"https://files.mastodon.social/accounts/avatars/109/248/059/314/089/584/original/3209dabfe3b87caa.jpg","header":"https://files.mastodon.social/accounts/headers/109/248/059/314/089/584/original/d4b7dfdc4c30890b.jpg","header_static":"https://files.mastodon.social/accounts/headers/109/248/059/314/089/584/original/d4b7dfdc4c30890b.jpg","followers_count":8187,"following_count":343,"statuses_count":2260,"last_status_at":"2025-12-18","hide_collections":null,"noindex":false,"emojis":[],"roles":[],"fields":[{"name":"Web","value":"\u003ca href=\"http://0pointer.de/blog/\" target=\"_blank\" rel=\"nofollow noopener me\" translate=\"no\"\u003e\u003cspan class=\"invisible\"\u003ehttp://\u003c/span\u003e\u003cspan class=\"\"\u003e0pointer.de/blog/\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e","verified_at":null}]},"media_attachments":[],"mentions":[],"tags":[],"emojis":[],"quote":null,"card":null,"poll":null,"quote_approval":{"automatic":["public"],"manual":[],"current_user":"denied"}}]}